##定义pipeline流程：verify->build->dockerpush->deploy，阶段
stages:
  - verify
  - build
  - dockerpush
  - deploy

#单元测试，阶段的作业,一个阶段有很多作业
unit-test:
  stage: verify #属于那个流程
  tags:
    - test-cicd #在哪个runner上面执行，在注册runner可以自定义
  script:
    - echo unit-test #执行脚本

#java编译
java-package:
  stage: build
  tags:
    - test-cicd
  script:
    - echo build

#push镜像
docker-push:
  stage: dockerpush
  tags:
    - test-cicd
  script:
    - echo docker-push
    - echo hello-world

#deploy 部署
service-1:
  stage: deploy
  tags:
    - test-cicd
  script:
    - echo deploy